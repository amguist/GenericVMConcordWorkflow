configuration:
  dependencies:

  arguments:
    concordPid: ${txId}
    concordServerUrl: "http://localhost:8001/#/process"

  meta:
    artifactId: ""
    version: ""
    completedStage: ""

flows:
  default:
    - log: "Process ID is ${concordPid}"
    - form: deploymentForm
    - set:
        groupId: ${deploymentForm.groupId}
        artifactId: ${deploymentForm.artifactId}
        version: ${deploymentForm.version}
        environment: ${deploymentForm.environment}
    - switch: ${environment}
      Development:
        - form: developmentForm
      default:
        - log: "Environment will be: ${environment}"

forms:
  deploymentForm:
    - groupId: { label: "Group Identifier", type: "string", placeholder: "Input Artifact Group Identifier"}
    - artifactId: { label: "Artifact Identifier", type: "string", placeholder: "Input Artifact Group Identifier"}
    - version: { label: "Artifact Version", type: "string", placeholder: "Input Artifact Version"}
    - environment: { label: "Environment", type: "string", placeholder: "Select Environment Type", allow: ["Development","QA","Stage","Performance","Production"]}

  developmentForm:
    - businessUnit: { label: "Business Unit", type: "string", placeholder: "Select Business Unit", allow: ["32818"]}

